(this["webpackJsonpweb-client"]=this["webpackJsonpweb-client"]||[]).push([[0],{231:function(e,n,t){e.exports=t(441)},261:function(e,n,t){e.exports=t.p+"static/media/leo.b47f7b0e.png"},265:function(e,n){},267:function(e,n){},305:function(e,n){},306:function(e,n){},439:function(e,n,t){},441:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(12),o=t.n(i),c=t(7),l=t(8),u=t(11),s=t(9),f=t(10),d=t(3),p=t(2);function m(){var e=Object(d.a)(["\n    color:",";\n    font-size:50px;\n"]);return m=function(){return e},e}function h(){var e=Object(d.a)(["\n    \n    border-radius:5px;\n    border :"," ;\n"]);return h=function(){return e},e}function b(){var e=Object(d.a)(["  \n    color: white;\n    border: 0;\n    border-radius: 5px;\n    font-size: 29px;\n    outline:none;\n    font-weight: 600;\n    cursor: pointer;\n    position: relative;\n    top: 2px;\n    background: transparent;\n"]);return b=function(){return e},e}var v=p.a.button(b()),g=p.a.div(h(),(function(e){return e.loading?"1px solid gray":"1px solid #e67e22"})),y=p.a.i(m(),(function(e){return e.loading?"gray":"#1e3799"})),w=function(e){var n=e.QRCodeOn,t=e.loading;return r.a.createElement(g,{loading:t},r.a.createElement(v,{disabled:t,onClick:n},r.a.createElement(y,{loading:t,className:"fas fa-qrcode"})))},O=t(13),x=t(216);function E(){var e=Object(d.a)(["\n    position: relative;\n    right:20px;\n    bottom:20px;\n"]);return E=function(){return e},e}function j(){var e=Object(d.a)(["\n    width:100%;\n    height:100%;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n"]);return j=function(){return e},e}var C=p.a.div(j()),k=Object(O.css)(E()),I=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){this.props.loading;return r.a.createElement(C,null,r.a.createElement(x.PacmanLoader,{css:k,sizeUnit:"px",size:40,color:"#36D7B7",loading:!0}))}}]),n}(r.a.Component);function N(){var e=Object(d.a)([""]);return N=function(){return e},e}function S(){var e=Object(d.a)(["\n    height:211px;\n    position: absolute;\n    bottom:0;\n    width:100%;\n    display:flex;\n    align-items:center;\n    background:#f5f6fa;\n"]);return S=function(){return e},e}function V(){var e=Object(d.a)(["\n    width:100%;\n    position: absolute;\n    top:0;\n    display:flex;\n    align-items:center;\n    height:206px;\n    border-bottom: 1px solid gainsboro;\n"]);return V=function(){return e},e}function D(){var e=Object(d.a)(["\n    height:417px;\n    width:100%;\n    position: relative;\n"]);return D=function(){return e},e}function R(){var e=Object(d.a)(["\n    font-family: 'Nanum Gothic', sans-serif;\n    font-family: 'Nanum Gothic Coding', monospace;\n    \n"]);return R=function(){return e},e}function P(){var e=Object(d.a)(["\n    font-family: 'Nanum Gothic', sans-serif;\n    font-family: 'Nanum Gothic Coding', monospace;\n    font-weight:900;\n    position: absolute;\n    left:0px;\n    \n"]);return P=function(){return e},e}function B(){var e=Object(d.a)(["\n    display:flex;\n    align-items:center;\n    width:100%;\n    position: relative;\n    justify-content:center;\n"]);return B=function(){return e},e}function z(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction:column;\n    margin-bottom: 12px;\n    width: 150px;\n    align-items: flex-start;\n"]);return z=function(){return e},e}function A(){var e=Object(d.a)(["\n    height:20px;\n"]);return A=function(){return e},e}function W(){var e=Object(d.a)(["\n    font-weight: 700;\n"]);return W=function(){return e},e}function T(){var e=Object(d.a)(["\n    color:#dcdde1;\n    \n"]);return T=function(){return e},e}function Q(){var e=Object(d.a)(["\n    \n"]);return Q=function(){return e},e}function L(){var e=Object(d.a)(["\n    display:flex;\n    margin-bottom:20px;\n"]);return L=function(){return e},e}function q(){var e=Object(d.a)(["\n    margin-top: 10px;\n    font-size: 11px;\n    line-height: 20px;\n    letter-spacing: 4px;\n    margin-bottom: 10px;\n    font-weight: 500;\n"]);return q=function(){return e},e}function G(){var e=Object(d.a)(["\n    width:90px;\n"]);return G=function(){return e},e}function M(){var e=Object(d.a)(["\n    font-weight: 700;\n"]);return M=function(){return e},e}function U(){var e=Object(d.a)(["\n    font-size: 19px;\n    margin-top: 10px;\n    font-weight: 600;\n    color: "," ;\n    font-family: 'Nanum Gothic', sans-serif;\n"]);return U=function(){return e},e}function Y(){var e=Object(d.a)(["\n    width: 130px;\n    height: 130px;\n    border-radius: 15%;\n    object-fit: cover;\n    margin-bottom: 15px;\n"]);return Y=function(){return e},e}function _(){var e=Object(d.a)(["\n    margin-top: 15px;\n    margin-bottom: 10px;\n    letter-spacing: 0.7px;\n    font-family: 'Nanum Gothic', sans-serif;\nfont-family: 'Nanum Gothic Coding', monospace;\n"]);return _=function(){return e},e}function F(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    background:#f5f6fa;\n    width:100%;\n    padding-bottom:10px;\n    height:211px;\n"]);return F=function(){return e},e}function J(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    width:100%;\n    border-bottom: 1px solid gainsboro;\n    height:206px;\n"]);return J=function(){return e},e}function K(){var e=Object(d.a)(["\n    background:white;\n    width:85%;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    -webkit-box-shadow: 0px 0px 5px -1px rgba(0,0,0,0.75);\n-moz-box-shadow: 0px 0px 5px -1px rgba(0,0,0,0.75);\nbox-shadow: 0px 0px 5px -1px rgba(0,0,0,0.75);\n"]);return K=function(){return e},e}function $(){var e=Object(d.a)(["\n    display:flex;\n    width:100%;\n    flex-direction:column;\n    align-items:center;\n    background:#ecf0f1;\n    padding-top:25px;\n    padding-bottom:10px;\n    \n"]);return $=function(){return e},e}var H=p.a.div($()),X=p.a.div(K()),Z=p.a.div(J()),ee=p.a.div(F()),ne=p.a.div(_()),te=p.a.img(Y()),ae=p.a.div(U(),(function(e){return"\uc7ac\ud559"===e.status?"#487eb0":"#e74c3c"})),re=p.a.div(M()),ie=(p.a.img(G()),p.a.div(q())),oe=(p.a.div(L()),p.a.i(Q()),p.a.i(T()),p.a.div(W())),ce=p.a.div(A()),le=p.a.div(z()),ue=p.a.div(B()),se=p.a.div(P()),fe=p.a.div(R()),de=p.a.div(D()),pe=p.a.div(V()),me=p.a.div(S()),he=p.a.div(N()),be=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.props,n=e.user,a=e.loading;return r.a.createElement(H,null,r.a.createElement(X,null,a?r.a.createElement(de,null,r.a.createElement(pe,null),r.a.createElement(me,null),r.a.createElement(I,{loading:a})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null,r.a.createElement(ie,null,"MOBILE ID CARD"),r.a.createElement(ce,null),"201303024"===n.sid&&r.a.createElement(te,{src:t(261)}),"201303024"!==n.sid&&r.a.createElement(te,{src:n.img?"data:image/png;base64,"+n.img:"https://user-images.githubusercontent.com/11250/39013954-f5091c3a-43e6-11e8-9cac-37cf8e8c8e4e.jpg"})),r.a.createElement(ee,null,r.a.createElement(ae,{status:n.status},n.name),r.a.createElement(re,null,n.sid),r.a.createElement(he,null,n.email),r.a.createElement(ne,null,n.major),r.a.createElement(le,null,r.a.createElement(ue,null,r.a.createElement(se,null,"\ud559\ub144"),r.a.createElement(fe,null,n.grade)),r.a.createElement(ue,null,r.a.createElement(se,null,"\uc0c1\ud0dc"),r.a.createElement(fe,null,n.status))),r.a.createElement(oe,null,"KOREAN BIBLE UNIVERSITY")))))}}]),n}(r.a.Component),ve=t(139),ge=t.n(ve),ye=function(e,n){return ge.a.sign({password:n,id:e},"1234567890123456")},we=function(e){return ge.a.verify(e,"1234567890123456")},Oe=t(27),xe=t.n(Oe),Ee="https://www.kbucard.com:4000/api/";function je(){var e=Object(d.a)(["\n    width:100%;\n    min-height:80vh;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n"]);return je=function(){return e},e}var Ce,ke,Ie=p.a.div(je()),Ne=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.props,n=e.QRCodeOn,t=e.user,a=e.loading;return r.a.createElement(Ie,null,r.a.createElement(be,{loading:a,user:t}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w,{loading:a,QRCodeOn:n}))}}]),n}(r.a.Component),Se=t(42),Ve=t(49),De=t(36),Re=(t(378),t(67));function Pe(){var e=Object(d.a)(["\n    width:280px;\n    \n"]);return Pe=function(){return e},e}function Be(){var e=Object(d.a)(["\n    position:relative;\n    top:500px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n"]);return Be=function(){return e},e}function ze(){var e=Object(d.a)(["\n    color:white;\n    position: relative;\n    top: 18px;\n    font-size: 30px;\n    font-weight: 800;\n"]);return ze=function(){return e},e}function Ae(){var e=Object(d.a)(["\n    position:relative;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n    bottom:50px;\n    font-family: 'Roboto', sans-serif;\nfont-family: 'Nanum Gothic', sans-serif;\nfont-size:19px;\nfont-style:normal;\nletter-spacing:normal;\n"]);return Ae=function(){return e},e}function We(){var e=Object(d.a)(["\n    color:white;\n"]);return We=function(){return e},e}function Te(){var e=Object(d.a)(["\n    position:fixed;\n    top:0;\n    left:0;\n    height:100%;\n    width:100%;\n    background:rgba(0,0,0,0.7);\n    /* opacity:","; */\n    transition:0.3s;\n    /* display:","; */\n    opacity:1;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    flex-direction:column;\n"]);return Te=function(){return e},e}var Qe=p.a.div(Te(),(function(e){return e.view?1:0}),(function(e){return e.view?"flex":"none"})),Le=(p.a.div(We()),p.a.div(Ae())),qe=p.a.div(ze()),Ge=p.a.div(Be()),Me=p.a.img(Pe()),Ue=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).state={leftTime:15,loading:!0,qrcodeImg:""},t.setWrapperRef=t.setWrapperRef.bind(Object(De.a)(t)),t.handleClickOutside=t.handleClickOutside.bind(Object(De.a)(t)),t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=we(window.localStorage.getItem("token")),t=this.props.user;xe.a.post(Ee+"qr/",{id:n.id,sid:t.sid,token:localStorage.getItem("kbu")}).then((function(e){return e.data})).then((function(n){console.log(n),n.is_ok&&(e.setState({qrcodeImg:"data:image/png;base64,"+n.result.img,loading:!1}),Object(Re.a)({targets:".qrcode-container",translateY:-500}),e.setState({leftTime:15}),Ce=setInterval((function(){e.setState({leftTime:e.state.leftTime-1})}),1e3),setTimeout((function(){Object(Re.a)({targets:".qrcode-container",translateY:500})}),14e3),ke=setTimeout((function(){(0,e.props.QRCodeOff)()}),15e3))})).catch((function(e){return console.error(e)})),document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){clearInterval(Ce),clearTimeout(ke),document.removeEventListener("mousedown",this.handleClickOutside),Object(Re.a)({targets:".qrcode-container",translateY:500})}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&(0,this.props.QRCodeOff)()}},{key:"render",value:function(){var e=this.props.view,n=this.state,t=n.leftTime,a=n.loading,i=n.qrcodeImg;return r.a.createElement(Qe,{view:e},a?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null,r.a.createElement(qe,null,t)),r.a.createElement(Ge,{className:"qrcode-container",ref:this.setWrapperRef},r.a.createElement(Me,{src:i}))))}}]),n}(r.a.Component),Ye=t(445);function _e(){var e=Object(d.a)(["\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 26px;\n    cursor: pointer;\n"]);return _e=function(){return e},e}function Fe(){var e=Object(d.a)(["\n    cursor: pointer;\n"]);return Fe=function(){return e},e}function Je(){var e=Object(d.a)(["\n    color:white;\n    font-size: 20px;\n    font-weight: 700;\n"]);return Je=function(){return e},e}function Ke(){var e=Object(d.a)(["\n    width:100px;\n"]);return Ke=function(){return e},e}function $e(){var e=Object(d.a)(["\n    font-size: 30px;\n    cursor: pointer;\n    position: absolute;\n    left:30px;\n    color:white;\n"]);return $e=function(){return e},e}function He(){var e=Object(d.a)(["\n    width:100%;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    position: relative;\n    height:50px;\n    background:#1e3799;\n    -webkit-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);\n-moz-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);\nbox-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);\n"]);return He=function(){return e},e}var Xe=p.a.div(He()),Ze=p.a.i($e()),en=(p.a.img(Ke()),p.a.div(Je())),nn=p.a.p(Fe()),tn=p.a.i(_e()),an=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={visible:!1,placement:"left"},t.showDrawer=function(){t.setState({visible:!0})},t.onClose=function(){t.setState({visible:!1})},t.onChange=function(e){t.setState({placement:e.target.value})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.props,n=e.logout,t=e.user;return r.a.createElement(Xe,null,r.a.createElement("a",{href:"/"},r.a.createElement(en,null,"Korea Bible University")),r.a.createElement(Ze,{className:"fas fa-bars",onClick:this.showDrawer}),r.a.createElement(Ye.a,{title:"MENU",placement:this.state.placement,closable:!1,onClose:this.onClose,visible:this.state.visible},r.a.createElement(tn,{onClick:this.onClose,className:"fas fa-times"}),r.a.createElement(nn,null,"\uc774\uacbd\ubbfc"),r.a.createElement(nn,null,"\uc2e0\ub3d9\uaddc"),r.a.createElement(nn,null,"\uc2e0\ubbfc\ucca0"),("201303024"===t.sid||"201504018"===t.sid||"201504021"===t.id)&&r.a.createElement("a",{style:{textDecoration:"none",color:"black"},href:"/admin"},r.a.createElement(nn,null,"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0")),r.a.createElement(nn,{onClick:n},"\ub85c\uadf8\uc544\uc6c3")))}}]),n}(r.a.Component);function rn(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n    width:100%;\n    height:100px;\n    text-transform:uppercase;\n    font-weight: 600;\n    \n"]);return rn=function(){return e},e}p.a.div(rn());var on=t(221),cn=t.n(on);function ln(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n"]);return ln=function(){return e},e}var un=p.a.div(ln()),sn=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={result:"No result"},t.handleScan=function(e){e&&t.setState({result:e})},t.handleError=function(e){console.error(e)},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user.sid;"201303024"===e&&"201504018"===e&&"201504021"===e||window.location.href("/")}},{key:"render",value:function(){return r.a.createElement(un,null,r.a.createElement(cn.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}),r.a.createElement("p",null,this.state.result))}}]),n}(r.a.Component);function fn(){var e=Object(d.a)(["\n    height:4px;\n    width:100%;\n    background:#c0392b;\n"]);return fn=function(){return e},e}p.a.div(fn());var dn=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={QRCode:!1,user:{email:"",gender:"",grade:"",sid:"",img:"",img_height:0,img_width:0,major:"",phone:"",status:"",name:""},loading:!0},t.QRCodeOn=function(){t.setState({QRCode:!0})},t.QRCodeOff=function(){t.setState({QRCode:!1}),Object(Re.a)({targets:".qrcode-container",translateY:500})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=we(window.localStorage.getItem("token")),t=n.id,a=n.password;t&&a&&xe.a.post(Ee+"user/getuser",{id:t,password:a}).then((function(e){return e.data})).then((function(n){console.log(n),console.log(n.token),localStorage.setItem("kbu",n.token),n.is_ok?(e.setState({user:n.result,loading:!1}),console.log("this.state.user: ",e.state.user)):(alert("\uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. "),window.localStorage.removeItem("token"),window.location.href="/")})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this.state,n=e.QRCode,t=e.user,a=e.loading,i=this.QRCodeOn,o=this.QRCodeOff,c=this.props.logout;return r.a.createElement(Se.a,null,r.a.createElement(an,{user:t,logout:c}),r.a.createElement(Ve.c,null,r.a.createElement(Ve.a,{path:"/admin"},r.a.createElement(sn,{user:t})),r.a.createElement(Ve.a,{path:"/"},r.a.createElement(Ne,{user:t,loading:a,QRCodeOn:i})),r.a.createElement(Ve.a,null,r.a.createElement(Ne,null))),n&&r.a.createElement(Ue,{user:t,QRCodeOff:o,view:n}))}}]),n}(r.a.Component),pn=t(25),mn=t(443),hn=t(35),bn=t(444),vn=t(228);function gn(){var e=Object(d.a)(["\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 26px;\n    cursor: pointer;\n"]);return gn=function(){return e},e}function yn(){var e=Object(d.a)(["\n    font-size: 30px;\n    cursor: pointer;\n    position: absolute;\n    left:10px;\n    color:#b2bec3;\n"]);return yn=function(){return e},e}function wn(){var e=Object(d.a)(["\n    position: absolute;\n    top: 10px;\n    left: 10px;\n"]);return wn=function(){return e},e}var On=p.a.div(wn()),xn=p.a.div(yn()),En=p.a.i(gn()),jn=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={visible:!1,placement:"left"},t.showDrawer=function(){t.setState({visible:!0})},t.onClose=function(){t.setState({visible:!1})},t.onChange=function(e){t.setState({placement:e.target.value})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(On,null,r.a.createElement(xn,{className:"fas fa-bars",onClick:this.showDrawer}),r.a.createElement(Ye.a,{title:"MENU",placement:this.state.placement,closable:!1,onClose:this.onClose,visible:this.state.visible},r.a.createElement(En,{onClick:this.onClose,className:"fas fa-times"}),r.a.createElement(Se.b,{style:{textDecoration:"none",color:"black"},to:"/new"},r.a.createElement("p",null,"\ud68c\uc6d0\uac00\uc785"))))}}]),n}(r.a.Component);function Cn(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction:column;\n    width:80%;\n"]);return Cn=function(){return e},e}function kn(){var e=Object(d.a)(["\n    width:100%;\n    height:85vh;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n"]);return kn=function(){return e},e}var In=p.a.div(kn()),Nn=p.a.div(Cn()),Sn=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={id:"",password:"",buttonDisabled:!0},t.loginButtonClicked=function(){var e=t.state,n=e.id,a=e.password;xe.a.post(Ee+"user/login",{id:n,password:a}).then((function(e){return e.data})).then((function(e){if(console.log(e),!e.is_ok)return alert(e.result),void t.setState({id:"",password:""});var r=ye(n,a);console.log("token: ",r),window.localStorage.setItem("token",r),window.location.href="/"})).catch((function(e){return console.error(e.message)}))},t.handleInput=function(e){t.setState(Object(pn.a)({},e.target.name,e.target.value));var n=document.getElementById("id").value,a=document.getElementById("password").value;n.length>=4&&a.length>=4?t.setState({buttonDisabled:!1}):t.setState({buttonDisabled:!0})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.state,n=e.id,t=e.password,a=e.buttonDisabled,i=this.handleInput,o=this.loginButtonClicked;return r.a.createElement(In,null,r.a.createElement(jn,null),r.a.createElement(Nn,null,r.a.createElement(mn.a,{id:"id",value:n,name:"id",className:"input",onChange:i,placeholder:"\uc544\uc774\ub514",prefix:r.a.createElement(hn.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(bn.a,{title:"Extra information"},r.a.createElement(hn.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}}))}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(mn.a.Password,{id:"password",value:t,name:"password",onChange:i,prefix:r.a.createElement(hn.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\ube44\ubc00\ubc88\ud638"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(vn.a,{onClick:o,className:"button",disabled:a,type:"primary"},"LOGIN")))}}]),n}(r.a.Component);function Vn(){var e=Object(d.a)(["\n    position: absolute;\n    right: 15px;\n    top: 14px;\n    font-size: 26px;\n    cursor: pointer;\n"]);return Vn=function(){return e},e}function Dn(){var e=Object(d.a)(["\n    font-size: 30px;\n    cursor: pointer;\n    position: absolute;\n    left:10px;\n    color:#b2bec3;\n"]);return Dn=function(){return e},e}function Rn(){var e=Object(d.a)(["\n    position: absolute;\n    top: 10px;\n    left: 10px;\n"]);return Rn=function(){return e},e}var Pn,Bn=p.a.div(Rn()),zn=p.a.div(Dn()),An=p.a.i(Vn()),Wn=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={visible:!1,placement:"left"},t.showDrawer=function(){t.setState({visible:!0})},t.onClose=function(){t.setState({visible:!1})},t.onChange=function(e){t.setState({placement:e.target.value})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(Bn,null,r.a.createElement(zn,{className:"fas fa-bars",onClick:this.showDrawer}),r.a.createElement(Ye.a,{title:"MENU",placement:this.state.placement,closable:!1,onClose:this.onClose,visible:this.state.visible},r.a.createElement(An,{onClick:this.onClose,className:"fas fa-times"}),r.a.createElement(Se.b,{style:{textDecoration:"none",color:"black"},to:"/"},r.a.createElement("p",null,"\ub85c\uadf8\uc778"))))}}]),n}(r.a.Component);function Tn(){var e=Object(d.a)(["\n    outline: none;\n    text-align: center;\n    font-size: 29px;\n    margin-top: 0px;\n    background: #fff;\n    border: none;\n    box-shadow: inset 0 0 0 2px #0079bf;\n"]);return Tn=function(){return e},e}function Qn(){var e=Object(d.a)(["\n    display:flex;\n    align-items:center;\n"]);return Qn=function(){return e},e}function Ln(){var e=Object(d.a)(["\n    font-size: 20px;\n    color: #74b9ff;\n    font-weight: 500;\n    position: relative;\n    bottom: 50px;\n"]);return Ln=function(){return e},e}function qn(){var e=Object(d.a)(["\n    width:90%;\n    height:400px;\n    background:white;\n    opacity:1;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n"]);return qn=function(){return e},e}function Gn(){var e=Object(d.a)(["\n    position:fixed;\n    z-index:3;\n    top:0;\n    left:0;\n    width:100%;\n    height:100%;\n    background:rgba(0,0,0,0.7);\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n"]);return Gn=function(){return e},e}var Mn=p.a.div(Gn()),Un=p.a.div(qn()),Yn=p.a.div(Ln()),_n=(p.a.div(Qn()),p.a.input(Tn())),Fn=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).state={leftTime:180,verifyCode:""},t.handleInput=function(e){t.setState(Object(pn.a)({},e.target.name,e.target.value))},t.verifyButtonClicked=function(){var e=t.state.verifyCode,n=t.props,a=(n.name,n.studentId,n.phoneNumber);xe.a.post(Ee+"verifyphone/verify",{verifyCode:e,phoneNumber:a}).then((function(e){return e.data})).then((function(e){var n=e.ok,a=e.error;n?(alert("\uc778\uc99d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. "),(0,t.props.verifyPhone)()):alert(a)})).catch((function(e){return console.error(e)}))},t.setWrapperRef=t.setWrapperRef.bind(Object(De.a)(t)),t.handleClickOutside=t.handleClickOutside.bind(Object(De.a)(t)),t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props,t=n.name,a=n.studentId,r=n.phoneNumber;this.setState({leftTime:180}),xe.a.post(Ee+"verifyphone/",{name:t,studentId:a,phoneNumber:r}).then((function(e){return e.data})).then((function(e){var n=e.ok,t=e.error;n||alert(t)})).catch((function(e){return console.error(e)})),document.addEventListener("mousedown",this.handleClickOutside);var i=this.props.turnDownVerifyPhoneComponent;Pn=setInterval((function(){e.setState({leftTime:e.state.leftTime-1}),0===e.state.leftTime&&(e.setState({leftTime:180}),i())}),1e3)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside),clearInterval(Pn)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&(0,this.props.turnDownVerifyPhoneComponent)()}},{key:"render",value:function(){var e=this.state,n=e.leftTime,t=e.verifyCode,a=this.handleInput,i=this.verifyButtonClicked;return r.a.createElement(Mn,null,r.a.createElement(Un,{ref:this.setWrapperRef},r.a.createElement(Yn,null,parseInt(n/60)," : ",n%60>9?parseInt(n%60):"0"+parseInt(n%60)),r.a.createElement(_n,{onChange:a,placeholder:"0629",value:t,name:"verifyCode"}),r.a.createElement(vn.a,{onClick:i,style:{position:"relative",top:43,width:200},type:"primary"},"\uc778\uc99d")))}}]),n}(r.a.Component);function Jn(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction:column;\n    width:80%;\n"]);return Jn=function(){return e},e}function Kn(){var e=Object(d.a)(["\n    width:100%;\n    margin-top:70px;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:flex-end;\n"]);return Kn=function(){return e},e}var $n=p.a.div(Kn()),Hn=p.a.div(Jn()),Xn=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={id:"",password:"",password2:"",buttonDisabled:!0,name:"",studentId:"",phoneNumber:"",phoneVerified:!1,phoneVerifiedButton:!0,verifiyPhoneNumberView:!1},t.newAccountButtonClicked=function(){var e=t.state,n=e.name,a=e.studentId,r=e.id,i=e.password,o=e.phoneNumber;xe.a.post(Ee+"user/",{name:n,studentId:a,id:r,password:i,phoneNumber:o}).then((function(e){return e.data})).then((function(e){var n=e.ok,t=e.error,a=e.token;n?(window.localStorage.setItem("token",a),window.location.href="/"):alert(t)})).catch((function(e){return console.error(e)}))},t.verifyPhone=function(){t.setState({phoneVerified:!0,buttonDisabled:!1}),console.log("here!"),console.log(t.state.buttonDisabled),t.turnDownVerifyPhoneComponent()},t.turnOnVerifyPhoneComponent=function(){t.setState({verifiyPhoneNumberView:!0})},t.turnDownVerifyPhoneComponent=function(){t.setState({verifiyPhoneNumberView:!1})},t.handleInput=function(e){t.setState(Object(pn.a)({},e.target.name,e.target.value));var n=t.state.phoneVerified;n&&"phoneNumber"===e.target.name&&t.setState({phoneVerified:!1});var a=document.getElementById("id").value,r=document.getElementById("password").value,i=document.getElementById("password2").value,o=document.getElementById("studentId").value,c=document.getElementById("name").value,l=document.getElementById("phoneNumber").value;11===l.length?t.setState({phoneVerifiedButton:!1}):t.setState({phoneVerifiedButton:!0}),n&&a.length>=4&&r.length>=8&&i.length>=8&&o.length>=9&&c.length>=1&&l.length>=10?t.setState({buttonDisabled:!1}):t.setState({buttonDisabled:!0})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.state,n=e.id,t=e.password,a=e.buttonDisabled,i=e.password2,o=e.name,c=e.studentId,l=e.phoneNumber,u=e.phoneVerifiedButton,s=e.phoneVerified,f=e.verifiyPhoneNumberView,d=this.handleInput,p=this.turnOnVerifyPhoneComponent,m=this.turnDownVerifyPhoneComponent,h=this.verifyPhone,b=this.props,v=b.turnOnIntranetVerify,g=b.intranetVerified,y=this.newAccountButtonClicked;return r.a.createElement($n,null,r.a.createElement(Wn,null),r.a.createElement(Hn,null,r.a.createElement(vn.a,{onClick:v,disabled:g,type:"primary"},"\uc778\ud2b8\ub77c\ub137 \uc778\uc99d"),r.a.createElement("br",null),r.a.createElement(mn.a,{id:"name",value:o,name:"name",className:"input",onChange:d,placeholder:"\uc774\ub984",disabled:!0,prefix:r.a.createElement(hn.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}})}),r.a.createElement("br",null),r.a.createElement(mn.a,{id:"studentId",value:c,name:"studentId",onChange:d,disabled:!0,prefix:r.a.createElement(hn.a,{type:"idcard",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\ud559\ubc88"}),r.a.createElement("br",null),s?r.a.createElement(mn.a,{id:"id",value:n,name:"id",onChange:d,disabled:!0,prefix:r.a.createElement(hn.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\uc544\uc774\ub514"}):r.a.createElement(mn.a,{id:"id",value:n,name:"id",onChange:d,disabled:!g,prefix:r.a.createElement(hn.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\uc544\uc774\ub514"}),r.a.createElement("br",null),s?r.a.createElement(mn.a.Password,{id:"password",value:t,name:"password",onChange:d,disabled:!0,prefix:r.a.createElement(hn.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\ube44\ubc00\ubc88\ud638"}):r.a.createElement(mn.a.Password,{id:"password",value:t,name:"password",onChange:d,disabled:!g,prefix:r.a.createElement(hn.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\ube44\ubc00\ubc88\ud638"}),r.a.createElement("br",null),s?r.a.createElement(mn.a.Password,{id:"password2",value:i,name:"password2",onChange:d,disabled:!0,prefix:r.a.createElement(hn.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}):r.a.createElement(mn.a.Password,{id:"password2",value:i,name:"password2",onChange:d,disabled:!g,prefix:r.a.createElement(hn.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),r.a.createElement("br",null),r.a.createElement(mn.a,{id:"phoneNumber",value:l,name:"phoneNumber",onChange:d,disabled:!0,prefix:r.a.createElement(hn.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),className:"input",placeholder:"\ud578\ub4dc\ud3f0 \ubc88\ud638"}),r.a.createElement("br",null),!1===s&&r.a.createElement(vn.a,{onClick:p,className:"button",disabled:u,type:"primary"},"\ud578\ub4dc\ud3f0 \ubc88\ud638 \uc778\uc99d"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(vn.a,{className:"button",disabled:a,onClick:y,type:"primary"},"\ud68c\uc6d0\uac00\uc785")),f&&r.a.createElement(Fn,{verifyPhone:h,name:o,studentId:c,phoneNumber:l,turnDownVerifyPhoneComponent:m}))}}]),n}(r.a.Component);function Zn(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    width:80%;\n"]);return Zn=function(){return e},e}function et(){var e=Object(d.a)(["\n    width:80%;\n    height:400px;\n    background:white;\n    border-radius:3px;\n    color:black;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n"]);return et=function(){return e},e}function nt(){var e=Object(d.a)(["\n    position:fixed;\n    top:0;\n    left:0;\n    width:100%;\n    height:100%;\n    z-index:3;\n    background:rgba(0,0,0,0.7); \n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    justify-content:center;\n"]);return nt=function(){return e},e}var tt=p.a.div(nt()),at=p.a.div(et()),rt=p.a.div(Zn()),it=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).state={intranetId:"",intranetPassword:""},t.verifyButtonClicked=function(){var e=t.state,n=e.intranetPassword,a=e.intranetId,r=t.props,i=r.verifyIntranetAccount,o=r.turnDownIntranetVerify;i(a,n),o(),t.setState({intranetId:"",intranetPassword:""})},t.handleInput=function(e){t.setState(Object(pn.a)({},e.target.name,e.target.value))},t.setWrapperRef=t.setWrapperRef.bind(Object(De.a)(t)),t.handleClickOutside=t.handleClickOutside.bind(Object(De.a)(t)),t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&(0,this.props.turnDownIntranetVerify)()}},{key:"render",value:function(){var e=this.state,n=e.intranetId,t=e.intranetPassword,a=this.handleInput,i=this.verifyButtonClicked;return r.a.createElement(tt,null,r.a.createElement(at,{ref:this.setWrapperRef},r.a.createElement(rt,null,r.a.createElement("br",null),r.a.createElement(mn.a,{onChange:a,name:"intranetId",value:n,placeholder:"\uc778\ud2b8\ub77c\ub137 \uc544\uc774\ub514"}),r.a.createElement("br",null),r.a.createElement(mn.a.Password,{onChange:a,name:"intranetPassword",value:t,placeholder:"\uc778\ud2b8\ub77c\ub137 \ube44\ubc00\ubc88\ud638"}),r.a.createElement("br",null)),r.a.createElement(vn.a,{onClick:i},"\uc778\uc99d\ud558\uae30")))}}]),n}(r.a.Component),ot=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={verifyPhoneComponentView:!1,intranetVerifyView:!1,intranetVerified:!1,name:"",phoneNumber:""},t.verifyIntranetAccount=function(e,n){xe.a.post(Ee+"user//verify/intranet",{id:e,password:n}).then((function(e){return e.data})).then((function(e){var n=e.ok,a=(e.error,e.data);console.log("data: ",a),n&&t.setState({intranetVerified:!0})})).catch((function(e){return console.error(e)}))},t.turnOnIntranetVerify=function(){t.setState({intranetVerifyView:!0})},t.turnDownIntranetVerify=function(){t.setState({intranetVerifyView:!1})},t.turnOnVerifyPhoneComponent=function(){t.setState({verifyPhoneComponentView:!0})},t.turnDownVerifyPhoneComponent=function(){t.setState({verifyPhoneComponentView:!1})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.turnDownVerifyPhoneComponent,n=this.turnOnVerifyPhoneComponent,t=this.turnOnIntranetVerify,a=this.turnDownIntranetVerify,i=this.verifyIntranetAccount,o=this.state,c=(o.verifyPhoneComponentView,o.intranetVerifyView),l=o.intranetVerified;return r.a.createElement(Se.a,null,r.a.createElement(Ve.c,null,r.a.createElement(Ve.a,{exact:!0,path:"/"},r.a.createElement(Sn,null)),r.a.createElement(Ve.a,{path:"/new"},r.a.createElement(Xn,{turnDownVerifyPhoneComponent:e,turnOnVerifyPhoneComponent:n,turnOnIntranetVerify:t,intranetVerified:l})),r.a.createElement(Ve.a,null,r.a.createElement(Sn,null))),c&&r.a.createElement(it,{verifyIntranetAccount:i,turnDownIntranetVerify:a}))}}]),n}(r.a.Component);function ct(){var e=Object(d.a)([""]);return ct=function(){return e},e}var lt=p.a.div(ct()),ut=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!!localStorage.getItem("token")},t.logout=function(){t.setState({isLoggedIn:!1}),window.localStorage.removeItem("token"),window.location.href="/"},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.state.isLoggedIn,n=this.logout;return r.a.createElement(lt,null,e?r.a.createElement(dn,{logout:n}):r.a.createElement(ot,null))}}]),n}(r.a.Component);t(439),t(440),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ut,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[231,1,2]]]);
//# sourceMappingURL=main.dd5971b3.chunk.js.map